:root { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans JP", sans-serif; }
* { box-sizing: border-box; }
body { margin: 0; background: #f6f6f6; }

.app { max-width: 520px; margin: 0 auto; padding: 16px; }

.topbar { display: flex; align-items: center; justify-content: space-between; margin: 8px 4px 12px; }
.title { font-weight: 900; font-size: 20px; }
.progress { font-weight: 800; opacity: .75; min-width: 64px; text-align: right; }

.card{
  background: #fff;
  border-radius: 18px;
  padding: 18px;
  box-shadow: 0 8px 20px rgba(0,0,0,.06);
  min-height: 70vh;

  display: flex;
  flex-direction: column;
  gap: 14px;
}
.hidden{ display:none; }

/* START */
.startTitle{
  font-weight: 900;
  font-size: 42px;
  text-align:center;
  margin-top: 10vh;
}
.startBtn{
  margin-top: auto;
  font-size: 34px;
  font-weight: 900;
  padding: 18px 12px;
  border-radius: 18px;
  border: none;
  background: #111;
  color: #fff;
  cursor: pointer;
}
.startBtn:active{ transform: scale(0.99); }

/* QUIZ content 中央寄せ */
.content{
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 14px;
}

.equation{
  font-weight: 1000;
  text-align: center;
  letter-spacing: 1px;
  line-height: 1.05;
  font-size: clamp(56px, 18vw, 180px);
  white-space: nowrap;
  overflow: hidden;
}

.reading{
  font-size: clamp(24px, 7.5vw, 44px);
  font-weight: 900;
  text-align: center;
}

.maru{
  text-align: center;
  font-weight: 1000;
  font-size: clamp(80px, 22vw, 200px);
  color: #e60000;
  line-height: 1;
  margin-top: -6px;
}

.message{
  text-align: center;
  font-weight: 900;
  font-size: clamp(22px, 7vw, 36px);
  min-height: 40px;
}
.message small{
  display:block;
  font-size: 16px;
  opacity: .6;
  margin-top: 4px;
  font-weight: 800;
}

/* ★ 丸エリア：横幅いっぱい＋5こで折り返し */
.dotsWrap{
  display: flex;
  justify-content: center;
}
.dots{
  width: 100%;
  display: grid;
  grid-template-columns: repeat(5, 1fr); /* ★5列 */
  gap: 12px;                              /* ★押しやすく */
  justify-items: center;                  /* 各セルの中央に丸 */
  align-items: center;
  padding: 6px 0 2px;
}

/* 丸（サイズは端末幅で自動調整：32〜44px） */
.dot{
  width: clamp(32px, 12vw, 44px);
  height: clamp(32px, 12vw, 44px);
  border-radius: 999px;
  border: none;
  padding: 0;
  cursor: pointer;
  position: relative;
  user-select: none;
}

/* 色 */
.dot.a { background: #2b6cff; }      /* 青 */
.dot.b { background: #ff8a00; }      /* オレンジ */
.dot.ans { background: #20b26b; }    /* 緑（今回は基本使いませんが残してOK） */

/* 中の数字（初期は見えない） */
.dot .num{
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  font-weight: 1000;
  font-size: 14px;
  color: #fff;
  opacity: 0;
  transform: scale(0.9);
  transition: opacity .12s ease, transform .12s ease;
}

/* 番号が割り当てられたら表示 */
.dot.assigned .num{
  opacity: 1;
  transform: scale(1);
}

/* 3択 */
.choices{ display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
.choiceBtn{
  font-size: clamp(28px, 9vw, 48px);
  font-weight: 1000;
  padding: 18px 8px;
  border-radius: 16px;
  border: 2px solid #e6e6e6;
  background: #fff;
  cursor: pointer;
  user-select: none;
}
.choiceBtn:active{ transform: scale(0.98); }

/* 次へ */
.next{
  font-size: 26px;
  font-weight: 1000;
  padding: 16px 12px;
  border-radius: 16px;
  border: none;
  background: #111;
  color: #fff;
  cursor: pointer;
}
.next:active{ transform: scale(0.99); }

/* Step0微調整 */
.centerMode .content{ justify-content: center; }
.centerMode .next{ margin-top: 10px; }

/* RESULT */
.resultTitle{ font-size: 40px; font-weight: 1000; text-align: center; }
.resultScore{ font-size: 26px; font-weight: 900; text-align: center; opacity: .85; }

